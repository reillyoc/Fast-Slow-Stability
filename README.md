# Stability Along the Fast-Slow Continuum: Implications for Accelerating Ecosystems
This repository contains both Julia and R scripts to run theoretical models and empirical analyses of the manuscript "Stability Along the Fast-Slow Continuum: Implications for Accelerating Ecosystems".

Data for the empirical analyses were pulled from a variety of sources listed below:

Population Abundance Time Series
  - Living Planet Index (LPI) - https://www.livingplanetindex.org

Body Size
  - Myrvhold et al 2015 - https://esajournals.onlinelibrary.wiley.com/doi/10.1890/15-0846R.1

Mammal Phylogeny 
  - Faubry et al 2018 - https://esajournals.onlinelibrary.wiley.com/doi/full/10.1002/ecy.2443
  
Allometric Scaling
  - Hatton et al 2019 - https://www.pnas.org/doi/abs/10.1073/pnas.1900492116

Mammal Life History Trait Space
  - Beccari et al 2024 - https://onlinelibrary.wiley.com/doi/full/10.1111/ele.14445

# Julia
Julia scripts are numbered 1-3 in the order they appear in the manuscript
Throughout scripts, figures are saved via file path. For proper functionality ensure file paths are changed.

(1) A discrete ricker population model (Fig. 2A)

(2) A deterministic and stochastic Rozensweig-MacArthur CR model with dampening (Fig. 2B; Fig S1).

**Important to Note: Script (2), dampening is modulated by changing parameter D.

(3) A 5 trophospecies generalist food web module (Fig. 2C; Fig. 4C)

**Important to Note: Script (3) produces a .csv file that is used in R script 5 to plot figure 4C of the main manuscript

# R
R scripts are numbered 1-6 in the order that they should be run

(1) Script used to filter LPI data, identify appropriate time series, and de-trend time series. Produces .csv used in script (2).

**Important to Note: LPI data was uploaded as a .zip file that will need to be opened to access original LPI file and start this script.

(2) Calculate CV from LPI data for 3, 4, 5 year time windows. Prodcue .csv used in taxonomic ID (3)

(3) Check taxonomic names, fix where necessary, and get GBIF IDS. .csv's used in (4) and (5)

(4) From Myrvhold & Hatton data, calculate a mean body size to be used for main CV script. Produces .csv used in (5)

(5) Main analysis of Stability (CV) against body size and various life history speed traits using Ordinary Least Squares Regressions (OLS)

(6) Supplementary analysis of relationships in (5) with phylogenetic regressions using complete phylogeny from Faubry et al 2018.

**Important to Note: Phylogeny database is a large file and as such not included in this repository. See link above for Faubry et al 2018 to download phylogenetic data.


The folders labelled "Figures" contain the raw figures as they are generated by the Julia and R scripts and may not have axes labelled the same as how they appear in the manuscript.


# R Studio Session Info for all packages used throughout R scripts 1-6 - sessionInfo()
R version 4.4.0 (2024-04-24)
Platform: aarch64-apple-darwin20
Running under: macOS Sonoma 14.5

Matrix products: default
BLAS:   /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib 
LAPACK: /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.0

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

time zone: America/Toronto
tzcode source: internal

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] MuMIn_1.47.5       visreg_2.7.0       extrafont_0.19     ggpubr_0.6.0      
 [5] taxize_0.9.100     trend_1.1.6        wql_1.0.0          urca_1.3-3        
 [9] tseries_0.10-55    reshape2_1.4.4     see_0.8.4          report_0.5.8      
[13] parameters_0.21.6  performance_0.11.0 modelbased_0.8.7   insight_0.19.10   
[17] effectsize_0.8.7   datawizard_0.10.0  correlation_0.8.4  bayestestR_0.13.2 
[21] easystats_0.7.1    RcppRoll_0.3.0     zoo_1.8-12         beepr_1.3         
[25] RColorBrewer_1.1-3 lubridate_1.9.3    forcats_1.0.0      stringr_1.5.1     
[29] dplyr_1.1.4        purrr_1.0.2        readr_2.1.5        tidyr_1.3.1       
[33] tibble_3.2.1       ggplot2_3.5.1      tidyverse_2.0.0    NSM3_1.18         
[37] survival_3.5-8     partitions_1.10-7  MASS_7.3-60.2      combinat_0.0-8    

loaded via a namespace (and not attached):
  [1] cubature_2.1.0      splines_4.4.0       xts_0.13.2         
  [4] rpart_4.1.23        lifecycle_1.0.4     rstatix_0.7.2      
  [7] Rdpack_2.6          bold_1.3.0          StanHeaders_2.32.8 
 [10] lattice_0.22-6      backports_1.5.0     magrittr_2.0.3     
 [13] metafor_4.6-0       Hmisc_5.1-3         rmarkdown_2.27     
 [16] agricolae_1.3-7     pkgbuild_1.4.4      abind_1.4-5        
 [19] multcomp_1.4-25     audio_0.1-11        quadprog_1.5-8     
 [22] nnet_7.3-19         TH.data_1.1-2       sandwich_3.1-0     
 [25] inline_0.3.19       crul_1.4.2          nortest_1.0-4      
 [28] BSDA_1.2.2          MatrixModels_0.5-3  conditionz_0.1.0   
 [31] codetools_0.2-20    coin_1.4-3          xml2_1.3.6         
 [34] tidyselect_1.2.1    SuppDists_1.1-9.7   httpcode_0.3.0     
 [37] gmp_0.7-4           ash_1.0-15          matrixStats_1.3.0  
 [40] stats4_4.4.0        base64enc_0.1-3     mathjaxr_1.6-0     
 [43] jsonlite_1.8.8      e1071_1.7-14        Formula_1.2-5      
 [46] iterators_1.0.14    emmeans_1.10.1      foreach_1.5.2      
 [49] tools_4.4.0         binom_1.1-1.1       Rcpp_1.0.12        
 [52] glue_1.7.0          Rttf2pt1_1.3.12     gridExtra_2.3      
 [55] xfun_0.44           TTR_0.24.4          loo_2.7.0          
 [58] withr_3.0.0         numDeriv_2016.8-1.1 fastmap_1.2.0      
 [61] boot_1.3-30         fansi_1.0.6         SparseM_1.81       
 [64] AlgDesign_1.2.1     digest_0.6.35       timechange_0.3.0   
 [67] R6_2.5.1            estimability_1.5    colorspace_2.1-0   
 [70] Rfit_0.24.6         gtools_3.9.5        waveslim_1.8.4     
 [73] utf8_1.2.4          generics_0.1.3      data.table_1.15.4  
 [76] class_7.3-22        htmlwidgets_1.6.4   pkgconfig_2.0.3    
 [79] gtable_0.3.5        modeltools_0.2-23   htmltools_0.5.8.1  
 [82] carData_3.0-5       np_0.60-17          scales_1.3.0       
 [85] fANCOVA_0.6-1       knitr_1.47          km.ci_0.5-6        
 [88] rstudioapi_0.16.0   tzdb_0.4.0          uuid_1.2-0         
 [91] coda_0.19-4.1       checkmate_2.3.1     nlme_3.1-164       
 [94] curl_5.2.1          proxy_0.4-27        parallel_4.4.0     
 [97] metadat_1.2-0       libcoin_1.0-10      foreign_0.8-86     
[100] pillar_1.9.0        grid_4.4.0          vctrs_0.6.5        
[103] car_3.1-2           xtable_1.8-4        cluster_2.1.6      
[106] extrafontdb_1.0     htmlTable_2.4.2     evaluate_0.23      
[109] mvtnorm_1.2-4       cli_3.6.2           compiler_4.4.0     
[112] crayon_1.5.2        rlang_1.1.3         ggsignif_0.6.4     
[115] plyr_1.8.9          stringi_1.8.4       rstan_2.32.6       
[118] QuickJSR_1.1.3      munsell_0.5.1       quantreg_5.97      
[121] Matrix_1.7-0        hms_1.1.3           extraDistr_1.10.0  
[124] rbibutils_2.2.16    broom_1.0.5         igraph_2.0.3       
[127] RcppParallel_5.1.7  phangorn_2.11.1     quantmod_0.4.26    
[130] fastmatch_1.1-4     ape_5.8             polynom_1.4-1      
> 

